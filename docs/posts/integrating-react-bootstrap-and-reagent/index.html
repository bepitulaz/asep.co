<!DOCTYPE html>
<html lang="en-gb">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Asep Bagja Priandana">
    <meta name="description" content="My personal blog">
    <meta name="keywords" content="blog,developer,personal">

    <base href="https://bepitulaz.github.io/">
    <title>
  Integrating React Bootstrap and Reagent · Asep&#39;s Notes
</title>

    <link rel="canonical" href="https://bepitulaz.github.io/posts/integrating-react-bootstrap-and-reagent/">

    <link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
    <link rel="stylesheet" href="//cdn.rawgit.com/necolas/normalize.css/master/normalize.css">
    <link rel="stylesheet" href="https://bepitulaz.github.io/css/style.min.css">

    <link rel="icon" type="image/png" href="https://bepitulaz.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://bepitulaz.github.io/images/favicon-16x16.png" sizes="16x16">

    

    <meta name="generator" content="Hugo 0.37" />
  </head>

  <body>
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://bepitulaz.github.io/">
      Asep&#39;s Notes
    </a>
    
    <ul class="navigation-list float-right">
      
      <li class="navigation-item">
        <a class="navigation-link" href="https://bepitulaz.github.io/posts/">Blog</a>
      </li>
      
      <li class="navigation-item">
        <a class="navigation-link" href="https://bepitulaz.github.io/about/">About</a>
      </li>
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
  <article>
    <header>
      <h1 class="title">Integrating React Bootstrap and Reagent</h1>
      <h2 class="date">May 11, 2015</h2>
    </header>

    <p>This weekend, I am experimenting to use <a href="http://react-bootstrap.github.io/">React Bootstrap</a> with ClojureScript. For whom that doesn&rsquo;t know it yet, React Bootstrap is a <a href="http://getbootstrap.com/">Bootstrap 3</a> component built with <a href="http://facebook.github.io/react/">ReactJS</a>. I&rsquo;m using <a href="https://reagent-project.github.io/">Reagent</a> library for interacting with React from ClojureScript, instead of <a href="https://github.com/omcljs/om">Om</a>.</p>

<p>Integrating React Bootstrap and Reagent was confusing me at the first. It was non-trivial effort. I searched Google and got no relevant solutions for hours. So, this working solution is based on my trial and error experimentation.</p>

<p>Let&rsquo;s start.</p>

<p>In <code>project.clj</code> file, I use Reagent with <code>:exclusions</code>, because I have to use React version from NPM not the version that comes from Reagent. Don&rsquo;t forget to create <code>react.cljs</code> which contains only <code>(ns cljsjs.react)</code>.</p>

<p><code>project.clj</code></p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">(defproject sample &#34;0.1.0-SNAPSHOT&#34;
  :description &#34;Write your definition here.&#34;
  :url &#34;http://sample.org&#34;
  :license {:name &#34;Eclipse Public License&#34;
            :url &#34;http://www.eclipse.org/legal/epl-v10.html&#34;}
  :dependencies [[org.clojure/clojure &#34;1.7.0-beta2&#34;]
                 [org.clojure/clojurescript &#34;0.0-3269&#34;]
                 [reagent &#34;0.5.0&#34; :exclusions  [cljsjs/react]]]
  :node-dependencies [[react-bootstrap &#34;0.21.2&#34;]]
  :plugins [[lein-cljsbuild &#34;1.0.5&#34;]
            [lein-npm &#34;0.5.0&#34;]]
  :source-paths  [&#34;src-clj&#34;]
  :resource-path &#34;resources&#34;
  :npm-root &#34;resources&#34; 
  :cljsbuild {:builds [{:source-paths [&#34;src-cljs&#34;]
                        :compiler {:output-to &#34;resources/main.js&#34;
                        :optimizations :advanced
                        :pretty-print true}}]})</pre></div>
<p><code>react.cljs</code></p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">(ns cljsjs.react)</pre></div>
<p>Now, look at the index.html file. I use React and React Bootstrap which come from NPM. I manage the NPM dependencies by using <a href="https://github.com/RyanMcG/lein-npm">lein-npm</a>. It is a good Leiningen plugin for integrating NPM and Leiningen seamlessly.</p>

<p><code>index.html</code></p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
  &lt;head&gt;
    &lt;meta charset=&#34;utf-8&#34;&gt;
    &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;IE=edge&#34;&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no&#34;&gt;

    &lt;title&gt;Sample&lt;/title&gt;

    &lt;link rel=&#34;stylesheet&#34; href=&#34;css/bootstrap.min.css&#34;&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;div id=&#34;apps&#34; class=&#34;container-fluid&#34;&gt;&lt;/div&gt;

    &lt;script type=&#34;text/javascript&#34; src=&#34;react.min.js&#34;&gt;&lt;/script&gt; 
    &lt;script type=&#34;text/javascript&#34; src=&#34;react-bootstrap.min.js&#34;&gt;&lt;/script&gt;
    &lt;script type=&#34;text/javascript&#34; src=&#34;main.js&#34;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></div>
<p>Finally in <code>core.cljs</code>, I can do JS interop to call React component from React Bootstrap module.</p>

<p><code>core.cljs</code></p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">(ns sample.core
  (:require [cljsjs.react]
            [reagent.core :as reagent :refer [atom]]))

(defn text-editor
  &#34;Text editor for static blog.&#34;
  []
  (let [grid (aget js/ReactBootstrap &#34;Grid&#34;)
        row (aget js/ReactBootstrap &#34;Row&#34;)
        col (aget js/ReactBootstrap &#34;Col&#34;)]
    (reagent/create-element grid #js{}
      (reagent/create-element row #js{} 
        (reagent/create-element col #js{:xs 6 :md 6}

          ;; create div for text editor
          (reagent/create-element &#34;div&#34; #js{:contentEditable true} &#34;Left column&#34;))
          (reagent/create-element col #js{:xs 6 :md 6} &#34;Right column&#34;)))))

(reagent/render [text-editor] (.getElementById js/document &#34;apps&#34;))</pre></div>
<p>This is my working project structure for doing all those thing.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4">doc
resources
-- node_modules
---- react-bootstrap
---- react
-- index.html
-- main.js
src-clj
src-cljs
-- cljsjs
---- react.cljs 
-- sample
---- core.cljs
target
test
project.clj</pre></div>
  </article>
</section>


      </div>

      <footer class="footer">
  <section class="container">
    © 2016 · Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
  </section>
</footer>

    </main>

    

  </body>

</html>
