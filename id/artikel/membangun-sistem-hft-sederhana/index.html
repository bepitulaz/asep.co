<!doctype html>
<html lang="en-gb"><head>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-136771948-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    
    <meta name="description" content="Dua minggu terakhir ini saya sibuk mengerjakan sebuah proyek sampingan pribadi yang berhubungan dengan pasar finansial, yaitu melakukan otomatisasi terhadap kegiatan perdagangan di bursa cryptocurrency.">

    
    <meta property="og:title" content="Membangun Sistem High Frequency Trading Sederhana" />
<meta property="og:description" content="Dua minggu terakhir ini saya sibuk mengerjakan sebuah proyek sampingan pribadi yang berhubungan dengan pasar finansial, yaitu melakukan otomatisasi terhadap kegiatan perdagangan di bursa cryptocurrency." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://asepbagja.com/id/artikel/membangun-sistem-hft-sederhana/" />
<meta property="article:published_time" content="2019-09-19T17:07:43+08:00" />
<meta property="article:modified_time" content="2019-09-19T17:07:43+08:00" /><meta property="og:site_name" content="Pengusaha dan Konsultan Teknologi" />


    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Membangun Sistem High Frequency Trading Sederhana"/>
<meta name="twitter:description" content="Dua minggu terakhir ini saya sibuk mengerjakan sebuah proyek sampingan pribadi yang berhubungan dengan pasar finansial, yaitu melakukan otomatisasi terhadap kegiatan perdagangan di bursa cryptocurrency."/>



    <link href="/css/plugins.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">

    <title>Membangun Sistem High Frequency Trading Sederhana - Pengusaha dan Konsultan Teknologi</title>

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
    <script>
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#efefef",
          "text": "#404040"
        },
        "button": {
          "background": "#8ec760",
          "text": "#ffffff"
        }
      },
      "position": "bottom"
    })});
    </script>
</head>
<body>
    <div class="body-inner">
<div id="topbar" class="topbar-fullwidth d-none d-xl-block d-lg-block">
  <div class="container">
    <div class="row">
      <div class="col-12 d-none d-sm-block">
        <div class="social-icons social-icons-colored-hover">
          <ul>
            <li class="social-twitter"><a href="https://twitter.com/bepitulaz"><i class="fab fa-twitter"></i></a></li>
            <li class="social-linkedin"><a href="https://www.linkedin.com/in/asepbagja"><i class="fab fa-linkedin"></i></a></li>
            <li class="social-youtube"><a href="https://www.youtube.com/channel/UCjGnuWk0n6BWx7rXshMysbw"><i class="fab fa-youtube"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<header id="header" data-fullwidth="true">
  <div class="header-inner">
    <div class="container">
      
      <div id="logo">
        <a href="/id/" class="ASPBGJ logo">
          ASPBGJ
        </a>
      </div>
      

      
      <div class="header-extras">
        <ul>
          <li>
            <div class="p-dropdown">
              <a href="#"><i class="icon-flag11"></i></a>
              <ul class="p-dropdown-content">
                
                <li><a href="https://asepbagja.com/">English</a></li>
                
                <li><a href="https://asepbagja.com/id/">Bahasa Indonesia</a></li>
                
              </ul>
            </div>
          </li>
        </ul>
      </div>
      

      
      <div id="mainMenu-trigger">
        <button class="lines-button x"> <span class="lines"></span> </button>
      </div>
      

      
      <div id="mainMenu">
        <nav>
          <ul><li class="">
              <a href="/id/">Beranda</a>
            </li>
            <li class="">
              <a href="/id/tentang-saya">Tentang Saya</a>
            </li>
            <li class="">
              <a href="/id/artikel">Artikel</a>
            </li>
          </ul>
        </nav>
      </div>
      
    </div>
  </div>
</header>

<section id="page-content" class="sidebar-right">
  <div class="container">
    <div class="row">
      
      <div class="content col-lg-10 offset-lg-1">
        
        <div id="blog" class="single-post">
          
          <div class="post-item">
            <div class="post-item-wrap">
              <div class="post-item-description">
                <h2>Membangun Sistem High Frequency Trading Sederhana</h2>
                <div class="post-meta">
                    
                    <span class="post-meta-date"><i class="fa fa-calendar-o"></i>Sep, 19 2019</span>
                    <span class="post-meta-category">
                    
                      
                      
                      <i class="fa fa-tag"></i> <a href="https://asepbagja.com/id/categories/pemrograman/">Pemrograman</a>
                      
                    
                    </span>
                    <div class="post-meta-share">
                      


<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
position: relative;
text-align: left;
height: 36px;
width: 32px;
float: left;
text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<div id="share-buttons">
<div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https:\/\/asepbagja.com\/\/id\/artikel\/membangun-sistem-hft-sederhana\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
<div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=https:\/\/asepbagja.com\/\/id\/artikel\/membangun-sistem-hft-sederhana\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
<div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https:\/\/asepbagja.com\/\/id\/artikel\/membangun-sistem-hft-sederhana\/&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>

<div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=https:\/\/asepbagja.com\/\/id\/artikel\/membangun-sistem-hft-sederhana\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>

                    </div>
                </div>
              </div>
              

<p>Dua minggu terakhir ini saya sibuk mengerjakan sebuah proyek sampingan pribadi yang berhubungan dengan pasar finansial, yaitu melakukan otomatisasi terhadap kegiatan perdagangan di bursa cryptocurrency. Saya yakin untuk yang sudah terbiasa melakukan kegiatan <em>trading</em> pasti sering mendengar istilah <em>robot trading</em>. Di mana perdagangan dilakukan secara otomatis oleh komputer.</p>

<p><img src="/blog-img/candlestick.jpg" alt="&quot;Candlestick chart&quot;" />
<a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px" href="https://unsplash.com/@m_b_m?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge" target="_blank" rel="noopener noreferrer" title="Download free do whatever you want high-resolution photos from M. B. M."><span style="display:inline-block;padding:2px 3px"><svg xmlns="http://www.w3.org/2000/svg" style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white" viewBox="0 0 32 32"><title>unsplash-logo</title><path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path></svg></span><span style="display:inline-block;padding:2px 3px">M. B. M.</span></a></p>

<p>Saya memutuskan untuk membangun sistem sendiri dari nol dengan tujuan supaya benar-benar paham bagaimana sistem yang saya bangun bekerja sambil terus mengasah ilmu di bidang <em><a href="https://www.investopedia.com/articles/active-trading/101014/basics-algorithmic-trading-concepts-and-examples.asp">algorithmic trading</a></em>.</p>

<p>Perlu diingat bahwa artikel yang saya tulis ini sifatnya hanya catatan belajar saya, jadi jangan ditelan mentah-mentah.</p>

<h3 id="perkenalan-tentang-high-frequency-trading">Perkenalan Tentang High-Frequency Trading</h3>

<p>High-Frequency Trading (HFT) adalah strategi perdagangan aset di mana <em>trader</em> tidak menyimpan aset lama-lama, biasanya tidak akan lebih dari satu hari dengan keuntungan dari setiap <em>trade</em> sangat tipis tetapi dilakukan dengan jumlah yang banyak. Strategi dieksekusi secara cepat oleh komputer. HFT biasanya digunakan oleh <em>investment banks</em>, hedge fund, atau investor institusional untuk bertransaksi dalam volume yang besar dan kecepatan tinggi (bisa sampai hitungan milidetik) di bursa efek.</p>

<p>Di Indonesia, HFT tidak bisa digunakan di Bursa Efek Indonesia karena tidak diperbolehkan dan mungkin memang sistem di bursanya sendiri belum siap.</p>

<p>Oleh karena itu, untuk proses belajar, saya beralih ke bursa cryptocurrency karena bursa-bursa cryptocurrency pada umumnya memiliki API (Application Programming Interface) untuk mengakses data perdagangan secara <em>real-time</em> dan API untuk membuka posisi jual/beli.</p>

<h3 id="arsitektur-sistem">Arsitektur Sistem</h3>

<p>Sistem yang saya buat menggunakan arsitektur <em>microservices</em> untuk memastikan bahwa sistem ini bisa diperbesar lagi dengan mudah <em>(scalable)</em>. Ada empat <em>services</em>: Raw Data Service, Trading Service, Trading Strategy Development Service, dan Data Warehouse.</p>

<p><img src="/blog-img/my-hft-system.jpg" alt="&quot;Arsitektur Sistem&quot;" />
<em>Arsitektur sistem trading yang saya rancang.</em></p>

<h4 id="raw-data-service">Raw Data Service</h4>

<p><em>Service</em> ini digunakan untuk mengambil <em>ticker</em> secara berkala dari bursa. <em>Ticker</em> adalah data harga jual dan beli pada suatu aset. Untuk saat ini saya ambil per 30 detik sekali untuk setiap aset karena saya rasa untuk saat ini belum perlu dilakukan lebih cepat lagi.</p>

<p>Data mentah yang didapat dari bursa langsung dimasukkan ke data warehouse agar nantinya bisa dianalisa dan digunakan untuk membuat strategi perdagangan. Selain dimasukkan ke Data Warehouse, data mentah ini juga dikirimkan secara <em>real-time</em> ke Trading Service menggunakan format MsgPack melewati MQTT Broker.</p>

<p>Raw Data Service saya bangun dengan menggunakan <em>framework</em> Ruby on Rails. Mungkin terlihat <em>overkill</em> ya menggunakan Rails untuk <em>service</em> sesederhana ini. Alasan saya menggunakannya karena selain saya sudah terbiasa, Rails juga sangat cepat untuk melakukan pembuatan purwarupa aplikasi yang banyak menggunakan CRUD, dan ada fitur Active Jobs sehingga saya tidak perlu pusing-pusing melakukan konfigurasi <em>cron jobs</em>.</p>

<h4 id="trading-service">Trading Service</h4>

<p>Untuk <em>service</em> ini saya menggunakan Python tanpa <em>framework</em>. Mengapa Python? Karena ekosistem pustaka-pustaka pengolahan data dan analisa data sangat berlimpah dibandingkan Ruby.</p>

<p>Di dalam Trading Service ini lah algoritma <em>trading</em> diimplementasikan. Sistem akan bereaksi terhadap <em>ticker</em> yang didapat dari MQTT Broker, apakah sebaiknya melakukan posisi beli atau jual. Ketika sinyal beli atau jual sudah keluar, <em>service</em> ini akan mengontak Trading API di bursa.</p>

<h4 id="trading-strategy-development-service">Trading Strategy Development Service</h4>

<p><em>Service</em> ini tidak berhubungan dengan bursa sama sekali. Di bagian ini lah saya melakukan <a href="https://en.wikipedia.org/wiki/Technical_analysis">analisa teknikal</a> dengan menggunakan berbagai macam indikator, membangun algoritma yang akan digunakan sebagai strategi, dan juga melakukan <em>backtesting</em>. <em>Backtesting</em> adalah tahapan menguji algoritma dengan menggunakan data historis apakah algoritma tersebut menguntungkan atau tidak. Data historis ini saya ambil dari Data Warehouse.</p>

<p><img src="/blog-img/backtest.png" alt="&quot;Backtesting&quot;" />
<em>Contoh hasil backtesting menggunakan data satu hari ke belakang dengan timeframe satu menit</em></p>

<h4 id="data-warehouse">Data Warehouse</h4>

<p>Di sini saya menggunakan PostgreSQL untuk melakukan penyimpanan data time series. Sejauh ini masih memadai.</p>

<h3 id="kesimpulan">Kesimpulan</h3>

<p>Sistem yang saya bangun ini belum lah sempurna (boleh dibilang HFT abal-abal haha) dan masih jauh dari sistem HFT di luar sana yang dengan kecepatan tinggi dapat melakukan <em>trading</em> dalam hitungan milidetik. Bahkan hingga membuat <em><a href="https://en.wikipedia.org/wiki/2010_Flash_Crash">flash crash</a></em> pada pasar.</p>

<p>Mari jika mau berdiskusi atau memberi saran bisa tinggalkan pesan di kolom komentar atau lewat email saya yang tercantum di menu sebelah kiri.</p>

<p><u><strong>Daftar API dan pustaka pemrograman yang digunakan</strong></u></p>

<ul>
<li><a href="https://indodax.com">Indodax</a>. Bursa cryptocurrency Indonesia yang saya gunakan. Dokumentasi API-nya dapat dilihat <a href="https://indodax.com/downloads/INDODAXCOM-API-DOCUMENTATION.pdf">di sini</a>.</li>
<li><a href="http://ta-lib.org/">TA-Lib</a>. Pustaka pemrograman pada bahasa C untuk melakukan analisa teknikal. Dapat digunakan untuk Python melalui <em><a href="https://github.com/mrjbq7/ta-lib">wrapper</a></em>.</li>
<li><a href="https://pandas.pydata.org/">Pandas</a>. Pustaka Python untuk melakukan analisa data.</li>
<li><a href="https://numpy.org/">Numpy</a>. Pustaka Python untuk array dan matriks multi-dimensi yang besar.</li>
<li><a href="https://www.backtrader.com/">Backtrader</a>. Framework untuk melakukan <em>backtesting</em> dengan menggunakan Python.</li>
<li><a href="http://mosquitto.org/">Mosquitto MQTT Broker</a>. Pub/sub messaging untuk protokol MQTT. Ada MQTT kliennya untuk Ruby dan Python.</li>
<li><a href="https://msgpack.org/index.html">MessagePack</a>. Serialisasi data dengan menggunakan format biner. Lebih kecil ukurannya dibanding JSON.</li>
<li><a href="https://rubyonrails.org">Ruby on Rails</a>. Ruby web framework.</li>
<li><a href="https://github.com/dokku/dokku">Dokku</a>. Platform-as-a-Service berbasis Docker. Anggap saja Heroku tapi di-<em>host</em> di server sendiri.</li>
</ul>

              <div class="comments" id="comments">
                <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "asepnew" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </div>
</section>

<script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us3.list-manage.com","uuid":"9d7b2c9f4c0bebc73fcfe5d85","lid":"0c177e8e7d","uniqueMethods":true}) })</script>
<footer id="footer" class="inverted">
  <div class="copyright-content">
    <div class="container">
      <div class="copyright-text text-center">&copy; 2019 Asep Bagja Priandana. All Rights Reserved.</div>
    </div>
  </div>
</footer>

</div>

    <a id="scrollTop"><i class="icon-chevron-up1"></i><i class="icon-chevron-up1"></i></a>

    <script src="/js/jquery.js"></script>
    <script src="/js/plugins.js"></script>
    <script src="/js/functions.js"></script>
  </body>
</html>
